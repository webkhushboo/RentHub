<div class="container-fluid auth-container">
  <div class="row justify-content-center">
    <div class="col-md-6 col-lg-4">
      <mat-card class="auth-card mt-5">
        <mat-card-header class="d-flex justify-content-center">
          <mat-card-title>Register</mat-card-title>
        </mat-card-header>
        
        <mat-card-content>
          <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="mt-4" autocomplete="off">
            <mat-form-field appearance="outline" class="w-100 mb-3">
              <mat-label>Full Name</mat-label>
              <input matInput formControlName="name" placeholder="Enter your full name">
              <mat-error *ngIf="nameControl?.hasError('required')">
                Full name is required
              </mat-error>
              <mat-error *ngIf="nameControl?.hasError('minlength')">
                Name must be at least 2 characters
              </mat-error>
              <mat-error *ngIf="nameControl?.hasError('pattern')">
                Name must contain only letters
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="w-100 mb-3 pb-2">
              <mat-label>Email</mat-label>
              <input matInput type="email" formControlName="email" placeholder="Enter your email">
              <mat-error *ngIf="emailControl?.hasError('required')">
                Email is required
              </mat-error>
              <mat-error *ngIf="emailControl?.hasError('email') || emailControl?.hasError('invalidEmail')">
                Please enter a valid email address
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="w-100 mb-3 pb-2">
              <mat-label>Password</mat-label>
              <input matInput [type]="hidePassword ? 'password' : 'text'" 
                     formControlName="password" 
                     placeholder="Create a password">
              <button mat-icon-button matSuffix type="button"
                      (click)="hidePassword = !hidePassword">
                <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
              <mat-error *ngIf="passwordControl?.hasError('required')">
                Password is required
              </mat-error>
              <mat-error *ngIf="passwordControl?.hasError('minlength')">
                Password must be at least 8 characters long
              </mat-error>
              <mat-error *ngIf="passwordControl?.hasError('pattern')">
                Password must contain uppercase, lowercase, number, and special character
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="w-100 mb-3">
              <mat-label>Confirm Password</mat-label>
              <input matInput [type]="hideConfirmPassword ? 'password' : 'text'" 
                     formControlName="confirmPassword" 
                     placeholder="Confirm your password">
              <button mat-icon-button matSuffix type="button"
                      (click)="hideConfirmPassword = !hideConfirmPassword">
                <mat-icon>{{hideConfirmPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
              <mat-error *ngIf="confirmPasswordControl?.hasError('required')">
                Password confirmation is required
              </mat-error>
              <mat-error *ngIf="signupForm.hasError('passwordMismatch')">
                Passwords do not match
              </mat-error>
            </mat-form-field>

            <div class="d-grid mt-3">
              <button mat-raised-button color="primary" type="submit"
                      [disabled]="signupForm.invalid || isLoading">
                {{ isLoading ? 'Creating account...' : 'Register' }}
              </button>
            </div>

            <div class="mt-3 text-center">
              <a mat-button routerLink="/login">Already have an account? Login</a>
            </div>
          </form>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>